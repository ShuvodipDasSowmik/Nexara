# Server
server.port=${PORT:4000}
server.address=0.0.0.0

# Datasource / Database
spring.datasource.url=${SPRING_DATASOURCE_URL}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver

# JWT Token Secrets
jwt.access.secret=${JWT_ACCESS_SECRET}
jwt.refresh.secret=${JWT_REFRESH_SECRET}

# API Keys
api.deepseek.key=${API_DEEPSEEK_KEY}
api.openrouter.chat_url=${API_OPENROUTER_CHAT_URL}
cohere.api.key=${COHERE_API_KEY}
qdrant.api.key=${QRANT_API_KEY}
qdrant.api.url=${QRANT_API_URL}
qdrant.api.port=${QRANT_API_PORT}
qdrant.api.tls=${QRANT_API_TLS}

# File upload limits
spring.servlet.multipart.max-file-size=25MB
spring.servlet.multipart.max-request-size=25MB

# Spring MVC timeout
spring.mvc.async.request-timeout=120000

# OpenAI API Key
openai.api.key=${OPENAI_API_KEY}

# AI Evaluation Settings
ai.evaluation.enabled=${AI_EVALUATION_ENABLED:false}
ai.evaluation.rate.limit.seconds=${AI_EVALUATION_RATE_LIMIT:25}

# JPA/Hibernate Configuration
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.show_sql=true
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# Connection pool settings for better stability
spring.datasource.hikari.maximum-pool-size=${MAXIMUM_POOL_SIZE}
spring.datasource.hikari.minimum-idle=${MINIMUM_IDLE}
spring.datasource.hikari.connection-timeout=${CONNECTION_TIMEOUT}
spring.datasource.hikari.idle-timeout=${IDLE_TIMEOUT}
spring.datasource.hikari.max-lifetime=${MAX_LIFETIME}

# YouTube Transcript API Key
youtube.transcript.api.key=${YOUTUBE_TRANSCRIPT_API_KEY}

# Mail Configuration
# SMTP host (defaults to Gmail SMTP). Override via SPRING_MAIL_HOST env var.
spring.mail.host=${SPRING_MAIL_HOST:smtp.gmail.com}
# SMTP port (587 for STARTTLS)
spring.mail.port=${SPRING_MAIL_PORT:587}
spring.mail.protocol=${SPRING_MAIL_PROTOCOL:smtp}

# Credentials (set via SPRING_MAIL_USERNAME / SPRING_MAIL_PASSWORD env vars)
spring.mail.username=${SPRING_MAIL_USERNAME:}
spring.mail.password=${SPRING_MAIL_PASSWORD:}

# SMTP properties
spring.mail.properties.mail.smtp.auth=${SPRING_MAIL_SMTP_AUTH:true}
spring.mail.properties.mail.smtp.starttls.enable=${SPRING_MAIL_STARTTLS:true}
spring.mail.properties.mail.debug=${SPRING_MAIL_DEBUG:false}

# Sender address used by AdminController (override with EMAIL_FROM env var)
app.email.from=${EMAIL_FROM:noreply@localhost}